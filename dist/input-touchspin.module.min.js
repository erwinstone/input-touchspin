/*!
* @erwinstone/input-touchspin v1.0.3 (https://input-touchspin.vercel.app/)
* Copyright 2021 erwinstone
* Licensed under MIT (https://github.com/erwinstone/input-touchspin/blob/master/LICENSE)
*/class i{#t;#e;#s;#a="input-touchspin-style";#h;#u;constructor(t){this.#t=t.querySelector("[data-touchspin-input]"),this.#e=t.querySelector("[data-touchspin-up]"),this.#s=t.querySelector("[data-touchspin-down]"),this.#r(),!this.#t.readOnly&&!this.#t.disabled&&this.#d()}#r(){if(document.getElementById(this.#a)===null){const t=document.createElement("style");t.id=this.#a,t.textContent="[data-touchspin-input]::-webkit-inner-spin-button,[data-touchspin-input]::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}[data-touchspin-input]{-moz-appearance:textfield}",document.head.appendChild(t)}}#d(){this.#e.addEventListener("mousedown",()=>this.#n()),this.#s.addEventListener("mousedown",()=>this.#n(!1)),this.#e.addEventListener("touchstart",t=>{this.#n(),t.cancelable&&t.preventDefault()}),this.#s.addEventListener("touchstart",t=>{this.#n(!1),t.cancelable&&t.preventDefault()}),Array.from(["mouseup","mouseleave","touchend"]).forEach(t=>{this.#e.addEventListener(t,()=>this.#o()),this.#s.addEventListener(t,()=>this.#o())}),this.#t.addEventListener("wheel",t=>{Math.sign(t.deltaY)<1?this.#i():this.#i(!1),t.preventDefault()})}#o(){clearTimeout(this.#h),clearInterval(this.#u)}#i(t=!0){const e=this.#t.value;t?this.#t.stepUp():this.#t.stepDown();const s=this.#t.value;e!==s&&this.#t.dispatchEvent(new Event("change"))}#n(t=!0){this.#i(t),this.#h=setTimeout(()=>this.#u=setInterval(()=>this.#i(t),50),300)}}export{i as default};
